<?xml version="1.0" encoding="UTF-8" ?>

<routes xmlns="http://symfony.com/schema/routing"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/routing http://symfony.com/schema/routing/routing-1.0.xsd">

    <route id="vespolina_store_start" pattern="/">
        <default key="_controller">vespolina.store.store_controller:zoneDetailAction</default>
        <default key="taxonomyTerm">all</default>
        <requirement key="_method">GET</requirement>
    </route>

    <route id="vespolina_store_product_detail" pattern="/product_detail/{slug}">
        <default key="_controller">VespolinaStoreBundle:Product:detail</default>
        <requirement key="_method">GET</requirement>
    </route>

    <route id="vespolina_store_products" pattern="/products/{taxonomyTerm}">
        <default key="_controller">VespolinaStoreBundle:Store:zoneDetail</default>
        <requirement key="_method">GET</requirement>
    </route>
    <route id="vespolina_store_cart_checkout" pattern="/checkout">
        <default key="_controller">VespolinaStoreBundle:Checkout:checkout</default>
        <requirement key="_method">GET</requirement>
    </route>
    <route id="vespolina_store_checkout_create_customer" pattern="/checkout/create_customer/{processId}">
        <default key="_controller">VespolinaStoreBundle:Process/IdentifyCustomer:createCustomer</default>
        <requirement key="_method">GET|POST</requirement>
    </route>
    <route id="vespolina_store_checkout_select_fulfillment" pattern="/checkout/select_fulfillment/{processId}">
        <default key="_controller">VespolinaStoreBundle:Process/DetermineFulfillment:fulfillmentSelected</default>
        <requirement key="_method">POST</requirement>
    </route>
    <route id="vespolina_store_checkout_select_payment_method" pattern="/checkout/select_payment_method/{processId}">
        <default key="_controller">VespolinaStoreBundle:Process/SelectPaymentMethod:paymentMethodSelected</default>
        <requirement key="_method">POST</requirement>
    </route>
    <route id="vespolina_store_checkout_review" pattern="/checkout/review/{processId}">
        <default key="_controller">VespolinaStoreBundle:Process/ReviewCheckout:checkoutReviewed</default>
        <requirement key="_method">GET</requirement>
    </route>



</routes>


